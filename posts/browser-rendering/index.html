<!DOCTYPE html>
<html lang="zh-cn">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="author" content="Zhixiu Kang, åº·çŸ¥ä¿®, ä¿®">
    <meta name="description" content="ä¿®çš„ä¸ªäººä¸»é¡µ">
    <meta name="keywords" content="Zhixiu Kang, åº·çŸ¥ä¿®, ä¿®,ç¬”è®°">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="CSSåŠ¨ç”»çš„åŸç†å’Œæµè§ˆå™¨æ¸²æŸ“åŸç†"/>
<meta name="twitter:description" content="åŠ¨ç”»çš„åŸç† ä¸€ä¸ªæœ€ç®€å•çš„ä¾‹å­ å°† div ä»å·¦å¾€å³ç§»åŠ¨ ç‚¹æˆ‘çœ‹ä¾‹å­
åŸç†  æ¯è¿‡ä¸€æ®µæ—¶é—´(ç”¨ setInterval åšåˆ°) å°† div ç§»åŠ¨ä¸€å°æ®µè·ç¦» ç›´åˆ°ç§»åŠ¨åˆ°ç›®æ ‡åœ°ç‚¹  æ³¨æ„æ€§èƒ½  ç»¿è‰²è¡¨ç¤ºé‡æ–°ç»˜åˆ¶(repaint)äº†  Consoleâ†’Renderingâ†’ å‹¾é€‰ Paint flashing
  CSS æ¸²æŸ“è¿‡ç¨‹ä¾æ¬¡åŒ…å«å¸ƒå±€ã€ç»˜åˆ¶ã€åˆæˆ å…¶ä¸­å¸ƒå±€å’Œç»˜åˆ¶æœ‰å¯èƒ½è¢«çœç•¥  å‰ç«¯é«˜æ‰‹ä¸ç”¨ left åšåŠ¨ç”» ç”¨ transform(å˜å½¢)  ç¤ºä¾‹ä»£ç 
 åŸç† - transform: translateX(0=&gt;300px) - ç›´æ¥ä¿®æ”¹ä¼šè¢«åˆæˆï¼Œéœ€è¦ç­‰ä¸€ä¼šä¿®æ”¹ - transitionè¿‡æ¸¡å±æ€§å¯ä»¥è‡ªåŠ¨è„‘è¡¥ä¸­é—´å¸§  æ³¨æ„æ€§èƒ½  å¹¶æ²¡æœ‰ repaint(é‡æ–°ç»˜åˆ¶) æ¯”æ”¹ left æ€§èƒ½å¥½  æµè§ˆå™¨æ¸²æŸ“åŸç† å‚è€ƒæ–‡ç«   æ¸²æŸ“æ ‘æ„å»ºã€å¸ƒå±€åŠç»˜åˆ¶ æ¸²æŸ“æ€§èƒ½ ä½¿ç”¨ transform æ¥å®ç°åŠ¨ç”» æŸ¥çœ‹ CSS ä¸ªå±æ€§è§¦å‘ä»€ä¹ˆ: CSS Triggers  Q: Blink, Gecko, WebKit, EdgeHTML æ˜¯å•¥ï¼Ÿ"/>

    <meta property="og:title" content="CSSåŠ¨ç”»çš„åŸç†å’Œæµè§ˆå™¨æ¸²æŸ“åŸç†" />
<meta property="og:description" content="åŠ¨ç”»çš„åŸç† ä¸€ä¸ªæœ€ç®€å•çš„ä¾‹å­ å°† div ä»å·¦å¾€å³ç§»åŠ¨ ç‚¹æˆ‘çœ‹ä¾‹å­
åŸç†  æ¯è¿‡ä¸€æ®µæ—¶é—´(ç”¨ setInterval åšåˆ°) å°† div ç§»åŠ¨ä¸€å°æ®µè·ç¦» ç›´åˆ°ç§»åŠ¨åˆ°ç›®æ ‡åœ°ç‚¹  æ³¨æ„æ€§èƒ½  ç»¿è‰²è¡¨ç¤ºé‡æ–°ç»˜åˆ¶(repaint)äº†  Consoleâ†’Renderingâ†’ å‹¾é€‰ Paint flashing
  CSS æ¸²æŸ“è¿‡ç¨‹ä¾æ¬¡åŒ…å«å¸ƒå±€ã€ç»˜åˆ¶ã€åˆæˆ å…¶ä¸­å¸ƒå±€å’Œç»˜åˆ¶æœ‰å¯èƒ½è¢«çœç•¥  å‰ç«¯é«˜æ‰‹ä¸ç”¨ left åšåŠ¨ç”» ç”¨ transform(å˜å½¢)  ç¤ºä¾‹ä»£ç 
 åŸç† - transform: translateX(0=&gt;300px) - ç›´æ¥ä¿®æ”¹ä¼šè¢«åˆæˆï¼Œéœ€è¦ç­‰ä¸€ä¼šä¿®æ”¹ - transitionè¿‡æ¸¡å±æ€§å¯ä»¥è‡ªåŠ¨è„‘è¡¥ä¸­é—´å¸§  æ³¨æ„æ€§èƒ½  å¹¶æ²¡æœ‰ repaint(é‡æ–°ç»˜åˆ¶) æ¯”æ”¹ left æ€§èƒ½å¥½  æµè§ˆå™¨æ¸²æŸ“åŸç† å‚è€ƒæ–‡ç«   æ¸²æŸ“æ ‘æ„å»ºã€å¸ƒå±€åŠç»˜åˆ¶ æ¸²æŸ“æ€§èƒ½ ä½¿ç”¨ transform æ¥å®ç°åŠ¨ç”» æŸ¥çœ‹ CSS ä¸ªå±æ€§è§¦å‘ä»€ä¹ˆ: CSS Triggers  Q: Blink, Gecko, WebKit, EdgeHTML æ˜¯å•¥ï¼Ÿ" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://zhixiukang.com/posts/browser-rendering/" />
<meta property="article:published_time" content="2020-02-02T15:21:33-08:00" />
<meta property="article:modified_time" content="2020-02-02T15:21:33-08:00" />


    
      <base href="http://zhixiukang.com/posts/browser-rendering/">
    
    <title>
CSSåŠ¨ç”»çš„åŸç†å’Œæµè§ˆå™¨æ¸²æŸ“åŸç† Â· ä¿®çš„ä¸ªäººç½‘ç«™
</title>

    
      <link rel="canonical" href="http://zhixiukang.com/posts/browser-rendering/">
    

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="http://zhixiukang.com/css/coder.min.28d751104f30c16da1aa1bb04015cbe662cacfe0d1b01af4f2240ad58580069c.css" integrity="sha256-KNdREE8wwW2hqhuwQBXL5mLKz&#43;DRsBr08iQK1YWABpw=" crossorigin="anonymous" media="screen" />
    

    

    

    

    
    
    <link rel="icon" type="image/png" href="http://zhixiukang.com/img/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="http://zhixiukang.com/img/favicon-16x16.png" sizes="16x16">

    <meta name="generator" content="Hugo 0.62.1" />
  </head>

  
  
  <body class="colorscheme-light">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="http://zhixiukang.com/">
      ä¿®çš„ä¸ªäººç½‘ç«™
    </a>
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="http://zhixiukang.com/posts/">æŠ€æœ¯æ–‡ç« </a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="http://zhixiukang.com/explore/">å…´è¶£å­¦ä¹ </a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="http://zhixiukang.com/bucket-list/">Bucket List</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="http://zhixiukang.com/about/">è”ç³»æˆ‘</a>
          </li>
        
      
      
    </ul>
  </section>
</nav>


      <div class="content">
        
<section class="container post">
  <article>
    <header>
      <div class="post-title">
        <h1 class="title">CSSåŠ¨ç”»çš„åŸç†å’Œæµè§ˆå™¨æ¸²æŸ“åŸç†</h1>
      </div>
      <div class="post-meta">
        <div class="date">
          <span class="posted-on">
            <i class="fas fa-calendar"></i>
            <time datetime='2020-02-02T15:21:33-08:00'>
              February 2, 2020
            </time>
          </span>
          
        </div>
        <div class="categories">
  <i class="fas fa-folder"></i>
    <a href="http://zhixiukang.com/categories/tech/">Tech</a></div>

        <div class="tags">
  <i class="fas fa-tag"></i>
    <a href="http://zhixiukang.com/tags/css/">CSS</a></div>

      </div>
    </header>

    <div>
      <h1 id="heading">åŠ¨ç”»çš„åŸç†</h1>
<h2 id="heading-1">ä¸€ä¸ªæœ€ç®€å•çš„ä¾‹å­</h2>
<h3 id="-div-">å°† div ä»å·¦å¾€å³ç§»åŠ¨</h3>
<p><a href="http://js.jirengu.com/gamet/1/edit?html,css,js,output">ç‚¹æˆ‘çœ‹ä¾‹å­</a></p>
<h3 id="heading-2">åŸç†</h3>
<ul>
<li>æ¯è¿‡ä¸€æ®µæ—¶é—´(ç”¨ setInterval åšåˆ°)</li>
<li>å°† div ç§»åŠ¨ä¸€å°æ®µè·ç¦»</li>
<li>ç›´åˆ°ç§»åŠ¨åˆ°ç›®æ ‡åœ°ç‚¹</li>
</ul>
<h3 id="heading-3">æ³¨æ„æ€§èƒ½</h3>
<ul>
<li>ç»¿è‰²è¡¨ç¤ºé‡æ–°ç»˜åˆ¶(repaint)äº†
<blockquote>
<p><strong>Consoleâ†’Renderingâ†’ å‹¾é€‰ Paint flashing</strong></p>
</blockquote>
</li>
<li>CSS æ¸²æŸ“è¿‡ç¨‹ä¾æ¬¡åŒ…å«å¸ƒå±€ã€ç»˜åˆ¶ã€åˆæˆ</li>
<li>å…¶ä¸­å¸ƒå±€å’Œç»˜åˆ¶æœ‰å¯èƒ½è¢«çœç•¥</li>
</ul>
<h2 id="-left-">å‰ç«¯é«˜æ‰‹ä¸ç”¨ left åšåŠ¨ç”»</h2>
<h3 id="-transform">ç”¨ transform(å˜å½¢)</h3>
<blockquote>
<p><a href="http://js.jirengu.com/detoz/2/edit">ç¤ºä¾‹ä»£ç </a></p>
</blockquote>
<h3 id="heading-4">åŸç†</h3>
<pre><code>- transform: translateX(0=&gt;300px)
- ç›´æ¥ä¿®æ”¹ä¼šè¢«åˆæˆï¼Œéœ€è¦ç­‰ä¸€ä¼šä¿®æ”¹
- transitionè¿‡æ¸¡å±æ€§å¯ä»¥è‡ªåŠ¨è„‘è¡¥ä¸­é—´å¸§
</code></pre>
<h3 id="heading-5">æ³¨æ„æ€§èƒ½</h3>
<ul>
<li>å¹¶æ²¡æœ‰ repaint(é‡æ–°ç»˜åˆ¶)</li>
<li>æ¯”æ”¹ left æ€§èƒ½å¥½</li>
</ul>
<h1 id="heading-6">æµè§ˆå™¨æ¸²æŸ“åŸç†</h1>
<h2 id="heading-7">å‚è€ƒæ–‡ç« </h2>
<ul>
<li><a href="https://developers.google.com/web/fundamentals/performance/critical-rendering-path/render-tree-construction">æ¸²æŸ“æ ‘æ„å»ºã€å¸ƒå±€åŠç»˜åˆ¶</a></li>
<li><a href="https://developers.google.com/web/fundamentals/performance/rendering/">æ¸²æŸ“æ€§èƒ½</a></li>
<li><a href="https://developers.google.com/web/fundamentals/performance/rendering/stick-to-compositor-only-properties-and-manage-layer-count">ä½¿ç”¨ transform æ¥å®ç°åŠ¨ç”»</a></li>
<li>æŸ¥çœ‹ CSS ä¸ªå±æ€§è§¦å‘ä»€ä¹ˆ: <a href="https://csstriggers.com/">CSS Triggers</a>
<blockquote>
<p>Q: Blink, Gecko, WebKit, EdgeHTML æ˜¯å•¥ï¼Ÿ<br>
A: <a href="https://en.wikipedia.org/wiki/Comparison_of_browser_engines">Comparison of browser engines</a></p>
</blockquote>
</li>
</ul>
<h2 id="heading-8">æµè§ˆå™¨æ¸²æŸ“è¿‡ç¨‹</h2>
<ul>
<li>æ ¹æ® HTML æ„å»º HTML æ ‘(DOM)</li>
<li>æ ¹æ® CSS æ„å»º CSS æ ‘(CSSOM)</li>
<li>å°†ä¸¤æ£µæ ‘åˆå¹¶æˆä¸€é¢—æ¸²æŸ“æ ‘(render tree)</li>
<li>Layout å¸ƒå±€(æ–‡æ¡£æµã€ç›’æ¨¡å‹ã€è®¡ç®—å¤§å°å’Œä½ç½®)</li>
<li>Paint ç»˜åˆ¶(æŠŠè¾¹æ¡†é¢œè‰²ã€æ–‡å­—é¢œè‰²ã€é˜´å½±ç­‰ç”»å‡ºæ¥)</li>
<li>Composite åˆæˆ(æ ¹æ®å±‚å å…³ç³»å±•ç¤ºç”»é¢)</li>
</ul>
<h2 id="heading-9">ä¸‰æ£µæ ‘</h2>
<p><img src="http://zhixiukang.com/images/%E6%88%AA%E5%B1%8F2020-02-2120.12.32.png" alt=""></p>
<h2 id="heading-10">å¦‚ä½•æ›´æ–°æ ·å¼</h2>
<ul>
<li>ä¸€èˆ¬æˆ‘ä»¬ç”¨ JS æ¥æ›´æ–°æ ·å¼
<blockquote>
<p>æ¯”å¦‚<code>div.style.background = â€˜redâ€™</code><br>
æ¯”å¦‚<code>div.style.display = â€˜noneâ€™</code><br>
æ¯”å¦‚<code>div.classList.add(â€˜redâ€™)</code><br>
æ¯”å¦‚<code>div.remove()</code>ç›´æ¥åˆ æ‰èŠ‚ç‚¹</p>
</blockquote>
</li>
<li>é‚£ä¹ˆè¿™äº›æ–¹æ³•æœ‰ä»€ä¹ˆä¸åŒå—ï¼Ÿ
<blockquote>
<p>æœ‰ä¸‰ç§ä¸åŒçš„æ¸²æŸ“æ–¹å¼</p>
</blockquote>
</li>
</ul>
<h2 id="heading-11">ä¸‰ç§æ›´æ–°æ–¹å¼</h2>
<p><img src="http://zhixiukang.com/images/%E6%88%AA%E5%B1%8F2020-02-2120.37.27.png" alt=""></p>
<ul>
<li>ç¬¬ä¸€ç§ï¼Œå…¨èµ°
<blockquote>
<p><a href="http://js.jirengu.com/muyap/1/edit">div.remove()</a> ä¼šè§¦å‘å½“å‰æ¶ˆå¤±ï¼Œå…¶ä»–å…ƒç´  relayout</p>
</blockquote>
</li>
<li>ç¬¬äºŒç§ï¼Œè·³è¿‡ layout
<blockquote>
<p><a href="http://js.jirengu.com/pizov/1/edit">æ”¹å˜èƒŒæ™¯é¢œè‰²</a>ï¼Œç›´æ¥ repaint ï¼‹ composite</p>
</blockquote>
</li>
<li>ç¬¬ä¸‰ç§ï¼Œè·³è¿‡ layout å’Œ paint
<blockquote>
<p><a href="http://js.jirengu.com/ceqaj/1/edit">æ”¹å˜ transform</a>ï¼Œåªéœ€ composite<br>
æ³¨æ„å¿…é¡»å…¨å±æŸ¥çœ‹æ•ˆæœï¼Œåœ¨ iframe é‡Œçœ‹æœ‰é—®é¢˜</p>
</blockquote>
</li>
</ul>
<h1 id="css-">CSS åŠ¨ç”»ä¼˜åŒ–</h1>
<h2 id="heading-12">æ²¡æœ‰ä»€ä¹ˆæŠ€æœ¯å«é‡</h2>
<ul>
<li>
<p>ç­”æ¡ˆéƒ½åœ¨è°·æ­Œå†™çš„è¿™å‡ ç¯‡æ–‡ç« é‡Œï¼Œè°çœ‹å®Œè° ğŸ‚ğŸº</p>
<blockquote>
<p><a href="https://developers.google.com/web/fundamentals/performance/rendering">æ¸²æŸ“æ€§èƒ½ </a></p>
</blockquote>
<blockquote>
<p><a href="https://developers.google.com/web/fundamentals/performance/rendering/optimize-javascript-execution">ä¼˜åŒ– JavaScript æ‰§è¡Œ</a></p>
</blockquote>
<blockquote>
<p><a href="https://developers.google.com/web/fundamentals/performance/rendering/reduce-the-scope-and-complexity-of-style-calculations">ç¼©å°æ ·å¼è®¡ç®—çš„èŒƒå›´å¹¶é™ä½å…¶å¤æ‚æ€§</a></p>
</blockquote>
<blockquote>
<p><a href="https://developers.google.com/web/fundamentals/performance/rendering/avoid-large-complex-layouts-and-layout-thrashing">é¿å…å¤§å‹ã€å¤æ‚çš„å¸ƒå±€å’Œå¸ƒå±€æŠ–åŠ¨</a></p>
</blockquote>
<blockquote>
<p><a href="https://developers.google.com/web/fundamentals/performance/rendering/simplify-paint-complexity-and-reduce-paint-areas">ç®€åŒ–ç»˜åˆ¶çš„å¤æ‚åº¦ã€å‡å°ç»˜åˆ¶åŒºåŸŸ</a></p>
</blockquote>
<blockquote>
<p><a href="https://developers.google.com/web/fundamentals/performance/rendering/stick-to-compositor-only-properties-and-manage-layer-count">åšæŒä»…åˆæˆå™¨çš„å±æ€§å’Œç®¡ç†å±‚è®¡æ•°</a></p>
</blockquote>
<blockquote>
<p><a href="https://developers.google.com/web/fundamentals/performance/rendering/debounce-your-input-handlers">ä½¿è¾“å…¥å¤„ç†ç¨‹åºå»é™¤æŠ–åŠ¨</a></p>
</blockquote>
</li>
</ul>
<h2 id="js-">JS ä¼˜åŒ–</h2>
<ul>
<li>ä½¿ç”¨<code>requestAnimationFrame</code>ä»£æ›¿<code>setTimeout</code>æˆ–è€…<code>setInterval</code></li>
</ul>
<h2 id="css--1">CSS ä¼˜åŒ–</h2>
<ul>
<li>ä½¿ç”¨<code>will-change</code>æˆ–<code>translate</code></li>
</ul>
<h2 id="heading-13">æ²¡é”™</h2>
<ul>
<li>å®Œå…¨å°±æ˜¯æ­»è®°ç¡¬èƒŒ</li>
</ul>

    </div>

    <footer>
      


      <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "zhixiukang" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      
      
    </footer>
  </article>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script type="text/javascript" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/startup.js" id="MathJax-script"></script>
  <script>
    MathJax = {
      tex: {
        inlineMath: [
          ['$', '$'], ['\\(', '\\)']
        ],
        processEscapes: true,
        processEnvironments: true
      },
      options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
      }
    };
  </script>
</section>

      </div>

      <footer class="footer">
  <section class="container">
    
     Â© 2020
    
    
  </section>
</footer>

    </main>

    

  </body>

</html>

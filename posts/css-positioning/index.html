<!DOCTYPE html>
<html lang="zh-cn">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet"
    href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/styles/atom-one-dark.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <meta name="author" content="修">
    <meta name="description" content="修的个人主页">
    <meta name="keywords" content="Zhixiu Kang, 康知修, 修,笔记">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="CSS定位"/>
<meta name="twitter:description" content="布局和定位有啥区别?
区别大了，布局是屏幕平面上的，定位是垂直于屏幕的
还得从文档流和盒模型说起
复习一下盒模型
 一个 div 的分层  文字在最上层，border 在第二层，background 在第三层。
  Q: 浮动元素和块级子元素是什么意思呢？
A: 这里有一个例子
  Q: 浮动元素脱离文档流是什么意思?
A: 其实就是浮起来了一点点
 新属性 - position static默认值，待在文档流里 relative相对定位，升起来，但不脱离文档流 .demo { position: relative; top: 10px; left: 10px; }   站的位置一样，但是显示的地方有一定的偏移量。
 使用场景  用于做位移(很少用) 用于给 absolute 元素做爸爸  爸爸用 relative，儿子用 absolute
   配合 z-index  z-index:auto默认值，不创建新层叠上下文 z-index: 0/ 1/ 2 z-index: -1/ -2  默认为z-index: auto;，auto其实等于 0, 但是你不可以写z-index: 0;。"/>

    <meta property="og:title" content="CSS定位" />
<meta property="og:description" content="布局和定位有啥区别?
区别大了，布局是屏幕平面上的，定位是垂直于屏幕的
还得从文档流和盒模型说起
复习一下盒模型
 一个 div 的分层  文字在最上层，border 在第二层，background 在第三层。
  Q: 浮动元素和块级子元素是什么意思呢？
A: 这里有一个例子
  Q: 浮动元素脱离文档流是什么意思?
A: 其实就是浮起来了一点点
 新属性 - position static默认值，待在文档流里 relative相对定位，升起来，但不脱离文档流 .demo { position: relative; top: 10px; left: 10px; }   站的位置一样，但是显示的地方有一定的偏移量。
 使用场景  用于做位移(很少用) 用于给 absolute 元素做爸爸  爸爸用 relative，儿子用 absolute
   配合 z-index  z-index:auto默认值，不创建新层叠上下文 z-index: 0/ 1/ 2 z-index: -1/ -2  默认为z-index: auto;，auto其实等于 0, 但是你不可以写z-index: 0;。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://zhixiukang.com/posts/css-positioning/" />
<meta property="article:published_time" content="2020-01-31T15:21:33-08:00" />
<meta property="article:modified_time" content="2020-01-31T15:21:33-08:00" />


    
      <base href="http://zhixiukang.com/posts/css-positioning/">
    
    <title>
CSS定位 · 修的个人网站
</title>

    
      <link rel="canonical" href="http://zhixiukang.com/posts/css-positioning/">
    

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />


    
      
      
      <link rel="stylesheet" href="http://zhixiukang.com/css/coder.min.18c2bf5643e5b1a3c68d9cef0bdbeadb7fb3d6fa17b13615c3d6ee6bcc6c9d35.css" integrity="sha256-GMK/VkPlsaPGjZzvC9vq23&#43;z1voXsTYVw9bua8xsnTU=" crossorigin="anonymous" media="screen" />
    

    

    

    

    
    
    <link rel="icon" type="image/png" href="http://zhixiukang.com/img/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="http://zhixiukang.com/img/favicon-16x16.png" sizes="16x16">

    <meta name="generator" content="Hugo 0.62.1" />
  </head>

  
  
  <body class="colorscheme-light">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="http://zhixiukang.com/">
      修的个人网站
    </a>
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="http://zhixiukang.com/posts/">技术文章</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="http://zhixiukang.com/explore/">兴趣学习</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="http://zhixiukang.com/bucket-list/">Bucket List</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="http://zhixiukang.com/tags/">分类</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="http://zhixiukang.com/about/">联系我</a>
          </li>
        
      
      
    </ul>
  </section>
</nav>


      <div class="content">
        
<section class="container post">
  <article>
    <header>
      <div class="post-title">
        <h1 class="title">CSS定位</h1>
      </div>
      <div class="post-meta">
        <div class="date">
          <span class="posted-on">
            <i class="fas fa-calendar"></i>
            <time datetime='2020-01-31T15:21:33-08:00'>
              January 31, 2020
            </time>
          </span>
          
        </div>
        <div class="categories">
  <i class="fas fa-folder"></i>
    <a href="http://zhixiukang.com/categories/tech/">Tech</a></div>

        <div class="tags">
  <i class="fas fa-tag"></i>
    <a href="http://zhixiukang.com/tags/css/">CSS</a></div>

      </div>
    </header>

    <div>
      <blockquote>
<p>布局和定位有啥区别?<br>
区别大了，布局是屏幕平面上的，定位是<strong>垂直于屏幕</strong>的<br>
还得从文档流和盒模型说起<br>
复习一下盒模型</p>
</blockquote>
<p><img src="http://zhixiukang.com/images/%E6%88%AA%E5%B1%8F2020-02-1917.07.04.png" alt=""></p>
<h1 id="-div-">一个 div 的分层</h1>
<blockquote>
<p>文字在最上层，border 在第二层，background 在第三层。</p>
</blockquote>
<p><img src="http://zhixiukang.com/images/%E6%88%AA%E5%B1%8F2020-02-1918.08.46.png" alt="">
<img src="http://zhixiukang.com/images/%E6%88%AA%E5%B1%8F2020-02-1918.09.12.png" alt=""></p>
<blockquote>
<p>Q: 浮动元素和块级子元素是什么意思呢？<br>
A: 这里有一个<a href="https://jsbin.com/kacufabuta/edit?html,css,output">例子</a></p>
</blockquote>
<blockquote>
<p>Q: 浮动元素脱离文档流是什么意思?<br>
A: 其实就是浮起来了一点点</p>
</blockquote>
<h1 id="---position">新属性 - <code>position</code></h1>
<h2 id="static"><code>static</code>默认值，待在文档流里</h2>
<h2 id="relative"><code>relative</code>相对定位，升起来，但不脱离文档流</h2>
<pre><code class="language-css">.demo {
  position: relative;
  top: 10px;
  left: 10px;
}
</code></pre>
<blockquote>
<p>站的位置一样，但是显示的地方有一定的偏移量。</p>
</blockquote>
<h3 id="heading">使用场景</h3>
<ul>
<li>用于做位移(很少用)</li>
<li>用于给 absolute 元素做爸爸
<blockquote>
<p>爸爸用 relative，儿子用 absolute</p>
</blockquote>
</li>
</ul>
<h3 id="-z-index">配合 z-index</h3>
<ul>
<li><code>z-index:auto</code><strong>默认值，不创建新层叠上下文</strong></li>
<li><code>z-index: 0/ 1/ 2</code></li>
<li><code>z-index: -1/ -2</code>
<blockquote>
<p>默认为<code>z-index: auto;</code>，<code>auto</code>其实等于 0, 但是你不可以写<code>z-index: 0;</code>。</p>
</blockquote>
</li>
</ul>
<h3 id="heading-1">经验</h3>
<ul>
<li>写<code>z-index: 9999</code>的都是菜 🐔</li>
<li>学会管理<code>z-index</code></li>
</ul>
<h2 id="absolute-static"><code>absolute</code>绝对定位，定位基准是祖先里的非 static</h2>
<pre><code class="language-css">.container {
  border: 1px solid red;
  height: 300px;
  position: relative;
}

.close {
  border: 1px solid black;
  position: absolute;
  top: 0;
  right: 0;
  padding: 0;
}
</code></pre>
<blockquote>
<p>一般来说一个东西的关闭按钮都是用绝对定位做的，正好跑到最右上方去。<br>
相对定位一般做不到，因为相对定位一般都是相对于自身，你不能相对定位你爸爸。</p>
</blockquote>
<h3 id="heading-2">使用场景</h3>
<ul>
<li>脱离原来的位置，另起一层，比如对话框的关闭按钮</li>
<li>鼠标提示
<blockquote>
<p><a href="https://jsbin.com/nogojelewa/edit?html,css,output">实例代码</a></p>
</blockquote>
</li>
</ul>
<h3 id="-z-index-1">配合 z-index</h3>
<h3 id="heading-3">经验</h3>
<ul>
<li>很多菜 🐔 都以为 absolute 是相对于 relative 定位的
<blockquote>
<p>正确答案应该是 absolute 相对于祖先元素中最近的一个定位元素定位的。</p>
</blockquote>
</li>
</ul>
<blockquote>
<p>什么是定位元素？<br>
postion 不是 static 的，就是定位元素。</p>
</blockquote>
<ul>
<li><strong>某些浏览器上如果不写 top/left 会位置错乱</strong></li>
<li>善用 left:100%</li>
<li>善用 left:50%;加负 margin</li>
</ul>
<pre><code class="language-css">left: 50%;
margin-left: -27px;
</code></pre>
<blockquote>
<p>这个方法比较弱，你要自己去算。<br>
可以用<code>transform: translatexX(-50%);</code></p>
</blockquote>
<h2 id="fixed-viewport"><code>fixed</code>固定定位，定位基准是 viewport(有诈)</h2>
<p><code>postion: fixed;</code>就是相对于 viewport 定位。</p>
<blockquote>
<p>如果 div 所在的元素(也就是 container)有一些特殊的属性，那么它就不是相对于视口定位。<br>
特殊的属性，比如: <code>transform: scale(0.9);</code></p>
</blockquote>
<blockquote>
<p>所以不要把有 fixed 属性的元素放到有 transform 的元素里面。会产生奇怪的现象。</p>
</blockquote>
<h3 id="heading-4">使用场景</h3>
<ul>
<li>烦人的广告</li>
<li>回到顶部按钮</li>
</ul>
<h3 id="-z-index-2">配合 z-index</h3>
<h3 id="heading-5">经验</h3>
<ul>
<li>手机上尽量不要用这个属性，坑很多</li>
<li>不信你搜索一下’移动端 fixed‘</li>
</ul>
<h2 id="sticky"><code>sticky</code>粘滞定位，不好描述直接举例</h2>
<p>意思是当页面中还没有到我的时候，我就按照文档流。但是呢，如果出现看不到我的情况，就会粘在这里。</p>
<blockquote>
<p>特别适合导航<br>
<a href="http://js.jirengu.com/tiruy/1/edit">示例代码</a></p>
</blockquote>
<h2 id="heading-6">经验</h2>
<ul>
<li>如果你写了<code>absolute</code>，一般都得补一个<code>relative</code></li>
<li>如果你写了<code>absolute</code>或<code>fixed</code>，一定要补<code>top</code>和<code>left</code></li>
<li><code>sticky</code>兼容性很差，主要用于面试装逼</li>
</ul>
<h1 id="heading-7">层叠上下文(堆叠上下文)</h1>
<p>运用 z-index，（我们认识到）某些元素的渲染顺序是由其 z-index 的值影响的。这是因为这些元素具有能够使他们形成一个*层叠上下文的特殊属性。</p>
<p><img src="http://zhixiukang.com/images/%E6%88%AA%E5%B1%8F2020-02-1921.30.48.png" alt=""></p>
<p>如果你在某一个地方定了位，比如说某一个地方<code>postion: relative;</code>或者<code>postion: absolute;</code>或者<code>position: fixed;</code>，那么你就自然而然的超越了刚才的文字，变成了定位元素。</p>
<h2 id="z-index10--z-index5-">z-index:10 和 z-index:5 哪个高？</h2>
<blockquote>
<p><a href="http://js.jirengu.com/gewob/1/edit?html,css,output">示例代码</a></p>
</blockquote>
<h2 id="heading-8">比喻</h2>
<ul>
<li>每个层叠上下文就是一个新的小世界(作用域)</li>
<li>这个小世界里面的 z-index 跟外界无关</li>
<li>处在同一个小世界的 z-index</li>
</ul>
<h2 id="heading-9">哪些不正交的属性可以创建它</h2>
<ul>
<li><a href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/CSS/Understanding_z_index/The_stacking_context">MDN 文档</a>有写</li>
<li>需要记忆的有<code>z-index</code>/<code>flex</code>/<code>opacity</code>/<code>transform</code>
<blockquote>
<p>Q: <code>opacity: 0.5;</code>和<code>background: rgba(255, 0, 0, 0.5);</code>的区别?<br>
A：<code>opacity</code>影响整个元素(当前元素的所有东西)。而<code>background</code>就是只影响背景色。</p>
</blockquote>
</li>
<li>忘了就搜 <strong>层叠上下文 MDN</strong></li>
<li>你说说 CSS 为什么不单独创建一个属性做这个事？
<blockquote>
<p>不知道。CSS 很多内容都不正交，很 🥚 疼。</p>
</blockquote>
</li>
</ul>
<h2 id="-z-index-">负 z-index 与层叠上下文</h2>
<blockquote>
<p>记住负 z-index 逃不出小世界<br>
<a href="http://js.jirengu.com/gixif/6/edit">示例代码</a></p>
</blockquote>

    </div>

    <footer>
      


      <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "zhixiukang" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      
      
    </footer>
  </article>

  
  
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.0.3/highlight.min.js"></script>
  <script>
    MathJax = {
      tex: {
        inlineMath: [
          ['$', '$'], ['\\(', '\\)']
        ],
        processEscapes: true,
        processEnvironments: true
      },
      options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
      }
    };
  </script>
</section>

      </div>

      <footer class="footer">
  <section class="container">
    
     © 2020
    
    
  </section>
</footer>

    </main>

    

  </body>

</html>
